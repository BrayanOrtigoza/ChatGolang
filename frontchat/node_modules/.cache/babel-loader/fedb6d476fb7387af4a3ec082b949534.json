{"ast":null,"code":"import _classCallCheck from \"/home/developermensajeros/Documentos/Go/src/Chat3.0/frontchat/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/developermensajeros/Documentos/Go/src/Chat3.0/frontchat/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/developermensajeros/Documentos/Go/src/Chat3.0/frontchat/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/developermensajeros/Documentos/Go/src/Chat3.0/frontchat/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/developermensajeros/Documentos/Go/src/Chat3.0/frontchat/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/developermensajeros/Documentos/Go/src/Chat3.0/frontchat/src/components/message/index.js\";\nimport React, { Component } from 'react';\nimport fecha from 'fecha';\nimport { postService } from \"../../services/services\";\nimport { Routes } from \"../../services/routes\";\n\nvar Message =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Message, _Component);\n\n  function Message(props) {\n    var _this;\n\n    _classCallCheck(this, Message);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Message).call(this, props));\n    _this.state = {\n      body: '',\n      arrayMessage: [],\n      connected: true\n    };\n    return _this;\n  }\n\n  _createClass(Message, [{\n    key: \"MakeMessage\",\n    value: function MakeMessage() {\n      var _this2 = this;\n\n      var token = localStorage.getItem('@websession');\n      var headers = {\n        Authorization: 'Bearer ' + token,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      };\n      var body = {\n        message: this.state.body,\n        id_people_message: this.props.Id_people\n      };\n      postService(Routes.MAKEMESSAGE, body, headers).then(function (data) {\n        _this2.setState({\n          body: ''\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"msg_history\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.props.Messages.map(function (element, index) {\n        var createdAt = fecha.format(new Date(element.createdAt), 'DD/MM HH:mm:ss');\n\n        if (element.id_people_message === _this3.props.id_people) {\n          return React.createElement(\"div\", {\n            className: \"incoming_msg\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"incoming_msg_img\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: \"https://ptetutorials.com/images/user-profile.png\",\n            alt: \"sunil\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"received_msg\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"received_withd_msg\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"time_date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, element.author), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, element.message), React.createElement(\"span\", {\n            className: \"time_date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, createdAt))));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"outgoing_msg\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"sent_msg\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"time_date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, element.author), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, element.message), React.createElement(\"span\", {\n            className: \"time_date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }, createdAt)));\n        }\n      }));\n    }\n  }]);\n\n  return Message;\n}(Component);\n\nexport default Message;","map":{"version":3,"sources":["/home/developermensajeros/Documentos/Go/src/Chat3.0/frontchat/src/components/message/index.js"],"names":["React","Component","fecha","postService","Routes","Message","props","state","body","arrayMessage","connected","token","localStorage","getItem","headers","Authorization","message","id_people_message","Id_people","MAKEMESSAGE","then","data","setState","Messages","map","element","index","createdAt","format","Date","id_people","author"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,yBAA1B;AACA,SAAQC,MAAR,QAAqB,uBAArB;;IAGMC,O;;;;;AAEF,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,YAAY,EAAC,EAFJ;AAGTC,MAAAA,SAAS,EAAE;AAHF,KAAb;AAFe;AAOlB;;;;kCAKY;AAAA;;AACT,UAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAZ;AAEA,UAAIC,OAAO,GAAG;AACVC,QAAAA,aAAa,EAAE,YAAYJ,KADjB;AAEV,wBAAgB,kBAFN;AAGV,kBAAU;AAHA,OAAd;AAMA,UAAIH,IAAI,GAAG;AACPQ,QAAAA,OAAO,EAAE,KAAKT,KAAL,CAAWC,IADb;AAEPS,QAAAA,iBAAiB,EAAE,KAAKX,KAAL,CAAWY;AAFvB,OAAX;AAKAf,MAAAA,WAAW,CAACC,MAAM,CAACe,WAAR,EAAqBX,IAArB,EAA2BM,OAA3B,CAAX,CAA+CM,IAA/C,CAAoD,UAAAC,IAAI,EAAI;AAExD,QAAA,MAAI,CAACC,QAAL,CAAc;AACVd,UAAAA,IAAI,EAAC;AADK,SAAd;AAGH,OALD;AAMH;;;6BAEQ;AAAA;;AACL,aACQ;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKF,KAAL,CAAWiB,QAAX,CAAoBC,GAApB,CAAwB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACzC,YAAIC,SAAS,GAAGzB,KAAK,CAAC0B,MAAN,CAAa,IAAIC,IAAJ,CAASJ,OAAO,CAACE,SAAjB,CAAb,EAA0C,gBAA1C,CAAhB;;AAEA,YAAIF,OAAO,CAACR,iBAAR,KAA8B,MAAI,CAACX,KAAL,CAAWwB,SAA7C,EAAuD;AACnD,iBACI;AAAK,YAAA,SAAS,EAAC,cAAf;AAA8B,YAAA,GAAG,EAAEJ,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAkC;AAC9B,YAAA,GAAG,EAAC,kDAD0B;AACyB,YAAA,GAAG,EAAC,OAD7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAlC,CADJ,EAGI;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA6BD,OAAO,CAACM,MAArC,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAIN,OAAO,CAACT,OAAZ,CAFJ,EAGI;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA6BW,SAA7B,CAHJ,CADJ,CAHJ,CADJ;AAYH,SAbD,MAaK;AACD,iBACA;AAAM,YAAA,SAAS,EAAC,cAAhB;AAA+B,YAAA,GAAG,EAAED,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA6BD,OAAO,CAACM,MAArC,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAIN,OAAO,CAACT,OAAZ,CAFJ,EAGI;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA6BW,SAA7B,CAHJ,CADJ,CADA;AAQH;AACJ,OA1BA,CADL,CADR;AA+BH;;;;EApEiB1B,S;;AAuEtB,eAAeI,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport fecha from 'fecha';\nimport {postService} from \"../../services/services\";\nimport {Routes} from \"../../services/routes\";\n\n\nclass Message extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            body: '',\n            arrayMessage:[],\n            connected: true\n        }\n    }\n\n\n\n\n    MakeMessage(){\n        let token = localStorage.getItem('@websession');\n\n        let headers = {\n            Authorization: 'Bearer ' + token,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        };\n\n        let body = {\n            message: this.state.body,\n            id_people_message: this.props.Id_people,\n        };\n\n        postService(Routes.MAKEMESSAGE, body, headers).then(data => {\n\n            this.setState({\n                body:''\n            })\n        })\n    }\n\n    render() {\n        return (\n                <div className=\"msg_history\">\n                    {this.props.Messages.map((element, index) => {\n                        let createdAt = fecha.format(new Date(element.createdAt), 'DD/MM HH:mm:ss');\n\n                        if (element.id_people_message === this.props.id_people){\n                            return(\n                                <div className=\"incoming_msg\" key={index}>\n                                    <div className=\"incoming_msg_img\"><img\n                                        src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/></div>\n                                    <div className=\"received_msg\">\n                                        <div className=\"received_withd_msg\">\n                                            <span className=\"time_date\">{element.author}</span>\n                                            <p>{element.message}</p>\n                                            <span className=\"time_date\">{createdAt}</span></div>\n                                    </div>\n                                </div>\n                            )\n                        }else{\n                            return(\n                            <div  className=\"outgoing_msg\" key={index}>\n                                <div className=\"sent_msg\">\n                                    <span className=\"time_date\">{element.author}</span>\n                                    <p>{element.message}</p>\n                                    <span className=\"time_date\">{createdAt}</span></div>\n                            </div>\n                            )\n                        }\n                    })}\n                </div>\n        )\n    }\n}\n\nexport default Message;\n"]},"metadata":{},"sourceType":"module"}